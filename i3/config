# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

# Mod4 is super key
set $sup Mod4
# Mod3 is caps lock is Hyper_L (caps lock for me)
set $mod Mod3

# printscreen
bindsym --release Shift+Print exec --no-startup-id /home/kevin/.config/i3/scripts/screenshots.sh 0
bindsym --release Print exec --no-startup-id /home/kevin/.config/i3/scripts/screenshots.sh 1
bindsym --release Shift+control+Print exec --no-startup-id scrot -s /tmp/clipped.png && xclip -selection c -t image/png /tmp/clipped.png

# increase/decrease keyboard brightness
bindsym XF86KbdBrightnessUp exec /home/kevin/.config/i3/scripts/kbd_backlight.sh up
bindsym XF86KbdBrightnessDown exec /home/kevin/.config/i3/scripts/kbd_backlight.sh down 

# Touchpad controls
bindsym XF86TouchpadToggle exec /home/kevin/.config/i3/scripts/toggle_touchpad.sh # toggle touchpad

# Pulse Audio controls
#increase sound volume
bindsym XF86AudioRaiseVolume exec "amixer -D pulse sset Master 5%+; notify-send 'volume up'"
#decrease sound volume
bindsym XF86AudioLowerVolume exec "amixer -D pulse sset Master 5%-; notify-send 'volume down'"
# mute sound
bindsym XF86AudioMute exec "amixer -D pulse sset Master toggle; notify-send 'volume toggled'"

# Screen brightness controls with notification
# increase screen brightness with notification
bindsym XF86MonBrightnessUp exec "light -A 5; notify-send 'brightness up'"
# decrease screen brightness with notification
bindsym XF86MonBrightnessDown exec "light -U 5; notify-send 'brightness down'"


# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:monospace 8

# This font is widely installed, provides lots of unicode glyphs, right-to-left
# text rendering and scalability on retina/hidpi displays (thanks to pango).
#font pango:DejaVu Sans Mono 8

# Before i3 v4.8, we used to recommend this one as the default:
# font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, its unicode glyph coverage is limited, the old
# X core fonts rendering does not support right-to-left and this being a bitmap
# font, it doesn’t scale on retina/hidpi displays.

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym control+Mod1+t exec i3-sensible-terminal

# start a chrome window
bindsym $sup+Return exec chromium-browser
bindsym $sup+shift+Return exec chromium-browser --incognito

bindsym $mod+Return exec i3-sensible-terminal

# kill focused window
bindsym $mod+Shift+q kill

# start dmenu (a program launcher)
# bindsym $mod+d exec dmenu_run -nb black -sb tomato -l 10
bindsym $mod+d exec rofi -show run -lines 7 -eh 2 -bg "black" -fg "#B00000" -font "System San Francisco Display 15" -hlfg "#999999"

# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
# bindsym $mod+d exec --no-startup-id i3-dmenu-desktop

# # change focus
# bindsym $mod+j focus left
# bindsym $mod+k focus down
# bindsym $mod+l focus up
# bindsym $mod+semicolon focus right

# # alternatively, you can use the cursor keys:
# bindsym $mod+Left focus left
# bindsym $mod+Down focus down
# bindsym $mod+Up focus up
# bindsym $mod+Right focus right

# # move focused window
# bindsym $mod+Shift+j move left
# bindsym $mod+Shift+k move down
# bindsym $mod+Shift+l move up
# bindsym $mod+Shift+semicolon move right

# # alternatively, you can use the cursor keys:
# bindsym $mod+Shift+Left move left
# bindsym $mod+Shift+Down move down
# bindsym $mod+Shift+Up move up
# bindsym $mod+Shift+Right move right

# i3 uses jkl; instead of hjkl -- fix that
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# bindsym Mod1+Tab workspace next
# bindsym Mod1+Shift+Tab workspace prev

bindsym $sup+Tab workspace next
bindsym $sup+Shift+Tab workspace prev

# alt tab functionality
bindsym Mod1+Tab exec i3-alt-tab --next
bindsym Mod1+Shift+Tab exec i3-alt-tab --prev

# move focused window
bindsym $mod+shift+h move left
bindsym $mod+shift+j move down
bindsym $mod+shift+k move up
bindsym $mod+shift+l move right

# locks
bindsym $sup+l exec "~/.config/i3/scripts/i3_locking.sh"
# exec xautolock -time 15 -locker 
exec xautolock -time 5 -locker "~/.config/i3/scripts/i3_locking.sh" -notify 20 -notifier 'xset dpms force off' && xautolock -time 7 -locker "systemctl suspend" &

# redshift (like f.lux)
exec redshift -t 4000:4000

# creates mode for shutdown, suspend, hibernate, reboot, shutdown  
set $locker ~/.config/i3/i3lock-wrapper -l && sleep 1

set $mode_system
set $mode_system system (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (shift+s) shutdown
mode "$mode_system" {
        bindsym l exec --no-startup-id $locker, mode "default"
                bindsym e exec --no-startup-id i3-msg exit, mode "default"
                    bindsym s exec --no-startup-id $locker && systemctl suspend, mode "default"
                        bindsym h exec --no-startup-id $locker && systemctl hibernate, mode "default"
                            bindsym r exec --no-startup-id systemctl reboot, mode "default"
                                bindsym shift+s exec --no-startup-id  systemctl powerof -i, mode "default"

                                    # back to normal: enter or escape
                                    bindsym Return mode "default"
                                    bindsym Escape mode "default"
                                    bindsym m mode "mode_movement"
}

bindsym $sup+s mode "$mode_system"

# split in horizontal orientation
bindsym $mod+semicolon split h

# split in vertical orientation
bindsym $mod+v split v

# # enter fullscreen mode for the focused container
# bindsym $mod+f fullscreen toggle 

# global fullscreen: across all monitors
bindsym $mod+shift+f        fullscreen toggle global

# fullscreens the youtube video in a page
# i3-msg focusing is so that 'fullscreen is not available' disappears
bindsym $sup+f exec sleep 0.2 && xdotool keydown f keyup f && sleep 0.2 && i3-msg fullscreen enable && i3-msg fullscreen disable && i3-msg && sleep 2.5 && i3-msg focus floating && i3-msg focus tiling

set $mode_fullscreen
mode "mode_fullscreen" {
    # bar mode toggle
    bindsym $mod+l mode "default"; fullscreen toggle; focus left
    bindsym $mod+h mode "default"; fullscreen disable; focus right
    bindsym $mod+k mode "default"; fullscreen disable; focus up
    bindsym $mod+j mode "default"; fullscreen disable; focus down
    bindsym $mod+f fullscreen disable; mode "default"; bar mode hide

    # reload the configuration file
    bindsym $mod+shift+c reload; bar mode invisible

    # switch to workspace
    bindsym $sup+1 fullscreen disable; bar mode hide; workspace $workspace1; mode "default"
    bindsym $sup+2 fullscreen disable; bar mode hide; workspace $workspace2; mode "default"
    bindsym $sup+3 fullscreen disable; bar mode hide; workspace $workspace3; mode "default"
    bindsym $sup+4 fullscreen disable; bar mode hide; workspace $workspace4; mode "default"
    bindsym $sup+5 fullscreen disable; bar mode hide; workspace $workspace5; mode "default"
    bindsym $sup+6 fullscreen disable; bar mode hide; workspace $workspace6; mode "default"
    bindsym $sup+7 fullscreen disable; bar mode hide; workspace $workspace7; mode "default"
    bindsym $sup+8 fullscreen disable; bar mode hide; workspace $workspace8; mode "default"
    bindsym $sup+9 fullscreen disable; bar mode hide; workspace $workspace9; mode "default"
    bindsym $sup+0 fullscreen disable; bar mode hide; workspace $workspace10; mode "default"

    # Copied from default mode
    bindsym $mod+shift+q kill

    # printscreen
    bindsym --release Shift+Print exec --no-startup-id /home/kevin/.config/i3/scripts/screenshots.sh 0
    bindsym --release Print exec --no-startup-id /home/kevin/.config/i3/scripts/screenshots.sh 1
    bindsym --release Shift+control+Print exec --no-startup-id scrot -s /tmp/clipped.png && xclip -selection c -t image/png /tmp/clipped.png

    # increase/decrease keyboard brightness
    bindsym XF86KbdBrightnessUp exec /home/kevin/.config/i3/scripts/kbd_backlight.sh up
    bindsym XF86KbdBrightnessDown exec /home/kevin/.config/i3/scripts/kbd_backlight.sh down 

    # Touchpad controls
    bindsym XF86TouchpadToggle exec /home/kevin/.config/i3/scripts/toggle_touchpad.sh # toggle touchpad

    # Pulse Audio controls
    #increase sound volume
    bindsym XF86AudioRaiseVolume exec "amixer -D pulse sset Master 5%+; notify-send 'volume up'"
    #decrease sound volume
    bindsym XF86AudioLowerVolume exec "amixer -D pulse sset Master 5%-; notify-send 'volume down'"
    # mute sound
    bindsym XF86AudioMute exec "amixer -D pulse sset Master toggle; notify-send 'volume toggled'"

    # Screen brightness controls with notification
    # increase screen brightness with notification
    bindsym XF86MonBrightnessUp exec "light -A 5; notify-send 'brightness up'"
    # decrease screen brightness with notification
    bindsym XF86MonBrightnessDown exec "light -U 5; notify-send 'brightness down'"

    # restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
    bindsym $mod+shift+r restart

    # Switch between floating and tiled windows
}
# xdotool used to remove the obstructive status bar up top until super is pressed again
bindsym $mod+f mode "mode_fullscreen"; fullscreen enable; exec xdotool keydown super keyup super

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle sticky from floating
bindsym $mod+$sup+space sticky toggle

# toggle tiling / floating
bindsym $sup+space floating toggle; sticky disable

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# move to left:
bindsym $mod+Mod1+h  exec /home/kevin/.dotfiles/i3/scripts/i3-move-resize.py -2 -1 -1 -1

#move to right:
bindsym $mod+Mod1+l  exec /home/kevin/.dotfiles/i3/scripts/i3-move-resize.py -4 -1 -1 -1

#move up:
bindsym $mod+Mod1+k exec /home/kevin/.dotfiles/i3/scripts/i3-move-resize.py -1 -2 -1 -1

#move down:
bindsym $mod+Mod1+j  exec /home/kevin/.dotfiles/i3/scripts/i3-move-resize.py -1 -4 -1 -1

# focus the parent container
bindsym $sup+a focus parent

# focus the child container
bindsym $sup+q focus child

set $workspace1      "1 T"
set $workspace2      "2 "
set $workspace3      "3"
set $workspace4      "4"
set $workspace5      "5"
set $workspace6      "6"
set $workspace7      "7"
set $workspace8      "8"
set $workspace9      "9"
set $workspace10     "10"

# switch to workspace
bindsym $sup+1 workspace $workspace1 
bindsym $sup+2 workspace $workspace2
bindsym $sup+3 workspace $workspace3
bindsym $sup+4 workspace $workspace4
bindsym $sup+5 workspace $workspace5
bindsym $sup+6 workspace $workspace6
bindsym $sup+7 workspace $workspace7
bindsym $sup+8 workspace $workspace8
bindsym $sup+9 workspace $workspace9
bindsym $sup+0 workspace $workspace10

set $mode_ws_mv_switch 
mode "mode_ws_mv_switch" {
    bindsym 1 move container to workspace $workspace1; workspace $workspace1
    bindsym 2 move container to workspace $workspace2; workspace $workspace2
    bindsym 3 move container to workspace $workspace3; workspace $workspace3
    bindsym 4 move container to workspace $workspace4; workspace $workspace4
    bindsym 5 move container to workspace $workspace5; workspace $workspace5
    bindsym 6 move container to workspace $workspace6; workspace $workspace6
    bindsym 7 move container to workspace $workspace7; workspace $workspace7
    bindsym 8 move container to workspace $workspace8; workspace $workspace8
    bindsym 9 move container to workspace $workspace9; workspace $workspace9
    bindsym 0 move container to workspace $workspace10; workspace $workspace10
        # back to normal: enter or escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym m mode "mode_movement"
        bindsym r mode "resize"
}
bindsym $mod+shift+a mode "mode_ws_mv_switch"

set $mode_movement
mode "mode_movement" {
   bindsym d bar hidden_state toggle
   bindsym shift+w exec --no-startup-id feh --randomize --bg-fill ~/.wallpaper/
   bindsym shift+q kill
   bindsym semicolon split h
   bindsym v split v
   bindsym s layout stacking
   bindsym w layout tabbed
   bindsym e layout toggle split
   bindsym shift+space focus mode_toggle
   bindsym space floating toggle
   bindsym a focus parent
   bindsym q focus child
   bindsym shift+h move left
   bindsym shift+j move down
   bindsym shift+k move up
   bindsym shift+l move right
   bindsym h focus left
   bindsym j focus down
   bindsym k focus up
   bindsym l focus right
   bindsym c exec chromium-browser 
   bindsym t exec i3-sensible-terminal
   bindsym shift+1 move container to workspace $workspace1; workspace $workspace1  
   bindsym shift+2 move container to workspace $workspace2; workspace $workspace2  
   bindsym shift+3 move container to workspace $workspace3; workspace $workspace3  
   bindsym shift+4 move container to workspace $workspace4; workspace $workspace4  
   bindsym shift+5 move container to workspace $workspace5; workspace $workspace5  
   bindsym shift+6 move container to workspace $workspace6; workspace $workspace6  
   bindsym shift+7 move container to workspace $workspace7; workspace $workspace7  
   bindsym shift+8 move container to workspace $workspace8; workspace $workspace8  
   bindsym shift+9 move container to workspace $workspace9; workspace $workspace9  
   bindsym shift+0 move container to workspace $workspace10; workspace $workspace10
   bindsym 1 workspace $workspace1   
   bindsym 2 workspace $workspace2   
   bindsym 3 workspace $workspace3   
   bindsym 4 workspace $workspace4   
   bindsym 5 workspace $workspace5
   bindsym 6 workspace $workspace6
   bindsym 7 workspace $workspace7
   bindsym 8 workspace $workspace8
   bindsym 9 workspace $workspace9
   bindsym 0 workspace $workspace10
   bindsym control+1 move container to workspace $workspace1
   bindsym control+2 move container to workspace $workspace2
   bindsym control+3 move container to workspace $workspace3
   bindsym control+4 move container to workspace $workspace4
   bindsym control+5 move container to workspace $workspace5
   bindsym control+6 move container to workspace $workspace6
   bindsym control+7 move container to workspace $workspace7
   bindsym control+8 move container to workspace $workspace8
   bindsym control+9 move container to workspace $workspace9
   bindsym control+0 move container to workspace $workspace10
       bindsym Return mode "default"
       bindsym Escape mode "default"
       bindsym m mode "mode_ws_mv_switch"
       bindsym r mode "resize"
       bindsym shift+s mode "mode_system"
       bindsym f mode "mode_fullscreen"
}
bindsym $mod+a mode "mode_movement"

# move focused container to workspace and move to workspace
bindsym $sup+shift+1 move container to workspace $workspace1; workspace $workspace1 
bindsym $sup+shift+2 move container to workspace $workspace2; workspace $workspace2
bindsym $sup+shift+3 move container to workspace $workspace3; workspace $workspace3
bindsym $sup+shift+4 move container to workspace $workspace4; workspace $workspace4
bindsym $sup+shift+5 move container to workspace $workspace5; workspace $workspace5
bindsym $sup+shift+6 move container to workspace $workspace6; workspace $workspace6
bindsym $sup+shift+7 move container to workspace $workspace7; workspace $workspace7
bindsym $sup+shift+8 move container to workspace $workspace8; workspace $workspace8
bindsym $sup+shift+9 move container to workspace $workspace9; workspace $workspace9
bindsym $sup+shift+0 move container to workspace $workspace10; workspace $workspace10

# move focused container to workspace
bindsym $sup+control+1 move container to workspace $workspace1
bindsym $sup+control+2 move container to workspace $workspace2
bindsym $sup+control+3 move container to workspace $workspace3
bindsym $sup+control+4 move container to workspace $workspace4
bindsym $sup+control+5 move container to workspace $workspace5
bindsym $sup+control+6 move container to workspace $workspace6
bindsym $sup+control+7 move container to workspace $workspace7
bindsym $sup+control+8 move container to workspace $workspace8
bindsym $sup+control+9 move container to workspace $workspace9
bindsym $sup+control+0 move container to workspace $workspace10

# reload the configuration file
bindsym $mod+shift+c reload
# bindsym $mod+shift+e exec "i3-nagbar -t warning -m 'you pressed the exit shortcut. do you really want to exit i3? this will end your x session.' -b 'yes, exit i3' 'i3-msg exit'"
# bindsym $mod+shift+e exec i3-msg exit

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+shift+r restart
# exit i3 (logs you out of your x session)
# bindsym $mod+shift+e exec "i3-nagbar -t warning -m 'you pressed the exit shortcut. do you really want to exit i3? this will end your x session.' -b 'yes, exit i3' 'i3-msg exit'"
# bindsym $mod+shift+e exec i3-msg exit

# resize window (you can also use the mouse for that)
mode "resize" {
        # these bindings trigger as soon as you enter the resize mode

        # pressing left will shrink the window’s width.
        # pressing right will grow the window’s width.
        # pressing up will shrink the window’s height.
        # pressing down will grow the window’s height.
        bindsym h resize shrink width 10 px or 10 ppt
        bindsym j resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt
        bindsym r mode "mode_large_resize"
        bindsym c resize set 800 500; mode "default"

        # back to normal: enter or escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym m mode "mode_movement"
        bindsym shift+m mode "mode_ws_mv_switch"
}   
bindsym $mod+r mode "resize"

mode "mode_large_resize" {
    bindsym h resize shrink width 400 px
    bindsym j resize grow height 400 px
    bindsym k resize shrink height 400 px
    bindsym l resize grow width 400 px 
    bindsym r mode "resize"
    bindsym c resize set 800 500; mode "default"

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# color defines for zenburn styled i3
set $bg     #2c2c2e
set $fg     #9f9f9f
set $hi     #efef8f
set $ac     #a0afa0
set $tx     #040404
set $ia     #8f8f8f
set $be     #8faf9f
set $yw     #ccdc90
set $gn     #88b090
set $rd     #e89393
set $drd    #ff0000

# set some nice colors      border     background  text
client.focused              $drd       $fg         $tx
client.unfocused            $bg        $bg         $ia
client.focused_inactive     $bg        $bg         $ac
client.urgent               $rd        $rd         $tx

# start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
        mode hide
        hidden_state hide
        position top
        # status_command i3status
        status_command i3blocks -c ~/.config/i3/i3blocks.conf
        tray_output primary
        font pango:DejaVu Sans Mono 10
}

# borderless windows
# for_window [class=^.*] border normal 0
new_window normal 0

bindsym $mod+g bar hidden_state toggle

# assign [class="Chromium-browser"] $workspace2
exec --no-startup-id i3-msg '$workspace10; exec rhythmbox-client; $workspace2; exec chromium-browser; workspace workspace 1'

exec xcompmgr -c
exec xbindkeys -p 

# for_window [class="Chromium-browser"] resize set 500 500

popup_during_fullscreen leave_fullscreen

# For instance: Assume you are on workspace "1: www" and switch to "2: IM" using mod+2 because somebody sent you a message. You don’t need to remember where you came from now, you can just press $mod+2 again to switch back to "1: www".
workspace_auto_back_and_forth yes

bindsym $mod+c [class="Chromium-browser"] focus
